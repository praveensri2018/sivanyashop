<!-- In customer-dashboard.component.html -->
<div class="customer-dashboard container py-4">
  <h3>Customer Dashboard</h3>
  <p class="text-muted">Welcome back, <strong>{{ user?.name || 'Customer' }}</strong></p>

  <!-- Quick Links -->
  <div class="card mb-3">
    <div class="card-body">
      <h5 class="card-title">Quick Links</h5>
      <div class="d-flex gap-2 flex-wrap">
        <a routerLink="/orders" class="btn btn-outline-primary btn-sm">My Orders</a>
        <a routerLink="/cart" class="btn btn-outline-secondary btn-sm">My Cart</a>
        <a routerLink="/" class="btn btn-outline-success btn-sm">Continue Shopping</a>
      </div>
    </div>
  </div>

  <!-- Tabs for Products/Orders -->
  <div class="card">
    <div class="card-body">
      <ul class="nav nav-tabs mb-3">
        <li class="nav-item">
          <a class="nav-link" [class.active]="activeTab === 'products'" 
             (click)="setActiveTab('products')">Recent Products</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [class.active]="activeTab === 'orders'" 
             (click)="setActiveTab('orders')">Recent Orders</a>
        </li>
      </ul>

      <!-- Products Tab -->
      <div *ngIf="activeTab === 'products'">
        <div class="search-row">
          <input type="text" [(ngModel)]="searchQuery" placeholder="Search products..." 
                 (keyup.enter)="onSearch()">
          <button class="btn" (click)="onSearch()">Search</button>
        </div>

        <div *ngIf="loading" class="loading">Loading...</div>
        
        <div class="grid" *ngIf="!loading">
          <div *ngFor="let product of products" class="card" 
               (click)="goToProduct(product.id)">
            <div class="img-wrap">
              <img [src]="product.image || '/assets/no-image.jpg'" [alt]="product.name">
            </div>
            <div class="meta">
              <h5>{{ product.name }}</h5>
              <p class="price" *ngIf="product.price">₹{{ product.price }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Orders Tab -->
      <div *ngIf="activeTab === 'orders'">
        <div *ngIf="loading" class="loading">Loading orders...</div>
        
        <div *ngIf="!loading && orders.length === 0" class="text-center py-4">
          <p>No orders found.</p>
          <a routerLink="/" class="btn btn-primary">Start Shopping</a>
        </div>

        <div *ngFor="let order of orders" class="order-item mb-3 p-3 border rounded">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <strong>Order #{{ order.orderNumber }}</strong>
              <div class="text-muted small">{{ order.placedAt | date }}</div>
            </div>
            <div>
              <span class="badge" [ngClass]="{
                'bg-warning': order.status === 'PENDING',
                'bg-success': order.status === 'DELIVERED',
                'bg-primary': order.status === 'PROCESSING'
              }">{{ order.status }}</span>
              <div class="text-end">₹{{ order.total }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>